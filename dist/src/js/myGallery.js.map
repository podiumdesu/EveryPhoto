{"version":3,"sources":["../../../src/js/myGallery.js"],"names":["console","log","require","searchPath","targetNode","$","storedLIBData","divContainer","document","createElement","setAttribute","className","innerHTML","JSON","parse","localStorage","getItem","length","forEach","append","live","addClass","fadeIn","click","newLIB","name","val","path","push","setItem","stringify","fadeOut","removeClass","alert"],"mappings":";;;;;;;AAKA;;AACA;;;;AACA;;;;;;AAPAA,QAAQC,GAAR,CAAY,sBAAZ;AACAD,QAAQC,GAAR,CAAY,IAAZ;AACAC,QAAQ,6BAAR;AACAA,QAAQ,oCAAR;AACAA,QAAQ,4BAAR;AAIO,IAAIC,wCAAJ;;AAEP,QAFWA,UAEX,gBAAa,kCAAb,C,CAAoD;;;AAGpD,IAAMC,aAAaC,EAAE,oBAAF,CAAnB;AACA,IAAIC,sBAAJ;AACA,IAAIC,eAAeC,SAASC,aAAT,CAAuB,KAAvB,CAAnB;AACAF,aAAaG,YAAb,CAA0B,IAA1B,EAA+B,qBAA/B;AACAH,aAAaI,SAAb,IAA0B,QAA1B;AACAJ,aAAaK,SAAb;;AAQAN,gBAAgBO,KAAKC,KAAL,CAAWC,aAAaC,OAAb,CAAqB,KAArB,CAAX,CAAhB;AACA,IAAIV,cAAcW,MAAd,GAAuB,CAA3B,EAA8B;AAC1B,yBAAMb,UAAN;AACAE,kBAAcY,OAAd;AACH;AACDd,WAAWe,MAAX,CAAkBZ,YAAlB;;AAGAF,EAAE,YAAF,EAAgBe,IAAhB,CAAqB,OAArB,EAA8B,YAAW;AACrCpB,YAAQC,GAAR,CAAY,KAAZ;AACAI,MAAE,SAAF,EAAagB,QAAb,CAAsB,cAAtB;AACAhB,MAAE,YAAF,EAAgBiB,MAAhB,CAAuB,GAAvB;AACH,CAJD;;AAMA;;;;;;;;;;;;;;;;;;;;;;AAsBA;;;AAGAjB,EAAE,iBAAF,EAAqBkB,KAArB,CAA2B,YAAW;AACnC,QAAIC,SAAS,EAAb;AACAA,WAAOC,IAAP,GAAcpB,EAAE,YAAF,EAAgBqB,GAAhB,EAAd;AACAF,WAAOG,IAAP,GAActB,EAAE,YAAF,EAAgBqB,GAAhB,EAAd;;AAEA,QAAGF,OAAOG,IAAP,CAAYV,MAAZ,GAAqB,CAAxB,EAA2B;AACvBjB,gBAAQC,GAAR,CAAY,UAAZ;AACA,6BAAMG,UAAN;;AAEAE,wBAAgBO,KAAKC,KAAL,CAAWC,aAAaC,OAAb,CAAqB,KAArB,CAAX,CAAhB;AACAhB,gBAAQC,GAAR,CAAY,GAAZ;AACAK,sBAAcsB,IAAd,CAAmBJ,MAAnB;AACAxB,gBAAQC,GAAR,CAAY,IAAZ;AACAc,qBAAac,OAAb,CAAqB,KAArB,EAA2BhB,KAAKiB,SAAL,CAAexB,aAAf,CAA3B;AACAN,gBAAQC,GAAR,CAAY,KAAZ;AACAK,wBAAgBO,KAAKC,KAAL,CAAWC,aAAaC,OAAb,CAAqB,KAArB,CAAX,CAAhB;AACAhB,gBAAQC,GAAR,CAAY,MAAZ;AACAD,gBAAQC,GAAR,CAAYK,aAAZ;;AAEAA,sBAAcY,OAAd;AACAd,mBAAWe,MAAX,CAAkBZ,YAAlB;;AAEAF,UAAE,YAAF,EAAgB0B,OAAhB,CAAwB,GAAxB,EAA4B,YAAW;AACnC1B,cAAE,SAAF,EAAa2B,WAAb,CAAyB,cAAzB;AACA3B,cAAE,YAAF,EAAgBqB,GAAhB,CAAoB,EAApB;AACH,SAHD;AAIH;AACAO,UAAM,IAAN;AACH,CA5BD;;AA8BA5B,EAAE,aAAF,EAAiBkB,KAAjB,CAAuB,YAAW;AAC9BlB,MAAE,YAAF,EAAgB0B,OAAhB,CAAwB,GAAxB,EAA4B,YAAW;AACnC1B,UAAE,SAAF,EAAa2B,WAAb,CAAyB,cAAzB;AACA3B,UAAE,YAAF,EAAgBqB,GAAhB,CAAoB,EAApB;AACH,KAHD;AAIH,CALD","file":"myGallery.js","sourcesContent":["console.log(\"This is myGallery.js\");\nconsole.log(\"dd\");\nrequire('../styles/common/common.css');\nrequire('../styles/common/nav-container.css');\nrequire('../styles/MG/inputInfo.css');\nimport {libData} from './MG/libData';\nimport renderLIB from './MG/renderLIB';\nimport clear from './clear';\nexport let searchPath;\n\nsearchPath = \"/Users/petnakanojo/Documents/img\";    //这是一个假数据\n\n\nconst targetNode = $(\"#gallery-container\");\nlet storedLIBData;\nlet divContainer = document.createElement(\"div\");\ndivContainer.setAttribute(\"id\",\"addNewBar-container\");\ndivContainer.className += \"ga-bar\";\ndivContainer.innerHTML = `\n        <p>添加新图库</p>\n        <div id=\"addNewBar\">\n        <p>+</p>\n        </div>\n    `;\n\n\nstoredLIBData = JSON.parse(localStorage.getItem(\"LIB\"));\nif (storedLIBData.length > 0) {\n    clear(targetNode);\n    storedLIBData.forEach(renderLIB);\n}\ntargetNode.append(divContainer);\n\n\n$(\"#addNewBar\").live(\"click\", function() {\n    console.log(\"ddd\");\n    $(\".ga-bar\").addClass(\"blur-display\");\n    $(\"#inputInfo\").fadeIn(200);\n});\n\n/*这是一个没用的监听事件\nlet searchBar = $(\"#pathValue\");\nsearchBar.bind(\"keyup\",function(event) {    //监听回车事件\n    let pathVal = $(\"#pathValue\").val();\n    var searchInfo = searchBar.val();\n    var event = event || window.event;\n    if (event.keyCode === 13) {\n        if (searchInfo.length !== 0) {\n            if(pathVal.length > 0) {\n                localStorage[\"LIB\"].forEach(renderLIB);\n            }\n            $(\"#inputInfo\").fadeOut(200,function() {\n                $(\".ga-bar\").removeClass(\"blur-display\");\n                $(\"#pathValue\").val(\"\");\n                $(\"#nameValue\").val(\"\");\n            });\n        } else {\n        }\n    }\n},false);\n*/\n\n//使用localstorage\n\n\n$(\"#btn-addNewInfo\").click(function() {\n   let newLIB = {};\n   newLIB.name = $(\"#nameValue\").val();\n   newLIB.path = $(\"#pathValue\").val();\n\n   if(newLIB.path.length > 0) {\n       console.log(\"It works\");\n       clear(targetNode);\n\n       storedLIBData = JSON.parse(localStorage.getItem(\"LIB\"));\n       console.log(\"d\");\n       storedLIBData.push(newLIB);\n       console.log(\"dd\");\n       localStorage.setItem(\"LIB\",JSON.stringify(storedLIBData));\n       console.log(\"ddd\");\n       storedLIBData = JSON.parse(localStorage.getItem(\"LIB\"));\n       console.log(\"dddd\");\n       console.log(storedLIBData);\n\n       storedLIBData.forEach(renderLIB);\n       targetNode.append(divContainer);\n\n       $(\"#inputInfo\").fadeOut(200,function() {\n           $(\".ga-bar\").removeClass(\"blur-display\");\n           $(\"#pathValue\").val(\"\");\n       });\n   }\n    alert(\"ok\");\n});\n\n$(\"#btn-cancel\").click(function() {\n    $(\"#inputInfo\").fadeOut(200,function() {\n        $(\".ga-bar\").removeClass(\"blur-display\");\n        $(\"#pathValue\").val(\"\");\n    });\n});"]}