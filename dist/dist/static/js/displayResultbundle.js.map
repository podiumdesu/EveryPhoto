{"version":3,"sources":["../../../static/js/displayResultbundle.js"],"names":["webpackJsonp","module","exports","__webpack_require__","Object","defineProperty","value","default","element","index","targetNode","$","div","document","createElement","className","setAttribute","innerHTML","smallURL","largePATH","append","_clear","_clear2","_interopRequireDefault","_render","_render2","_myGallery","obj","__esModule","console","log","allData","JSON","parse","localStorage","getItem","data","forEach","ajax","XMLHttpRequest","sendData","DRsearchBar","val","bind","event","window","keyCode","DRsearchInfo","length","open","setRequestHeader","onreadystatechange","readyState","responseText","setItem","keyword","path","searchPath","send","stringify","live","attr","largeURL","html","addClass","fadeIn","click","fadeOut","removeClass","particlesJS","load","_typeof","Symbol","iterator","constructor","prototype","pJS","tag_id","params","canvas_el","querySelector","canvas","el","w","offsetWidth","h","offsetHeight","particles","number","density","enable","value_area","color","shape","type","stroke","width","polygon","nb_sides","image","src","height","opacity","random","anim","speed","opacity_min","sync","size","size_min","line_linked","distance","move","direction","straight","out_mode","bounce","attract","rotateX","rotateY","array","interactivity","detect_on","events","onhover","mode","onclick","resize","modes","grab","bubble","duration","repulse","push","particles_nb","remove","mouse","retina_detect","fn","interact","vendors","tmp","deepExtend","size_value","size_anim_speed","move_speed","line_linked_distance","line_linked_width","mode_grab_distance","mode_bubble_distance","mode_bubble_size","mode_repulse_distance","retinaInit","devicePixelRatio","pxratio","retina","canvasInit","ctx","getContext","canvasSize","addEventListener","particlesEmpty","particlesCreate","particlesDraw","densityAutoParticles","canvasPaint","fillRect","canvasClear","clearRect","particle","position","radius","Math","size_status","vs","x","y","checkOverlap","Array","color_selected","floor","rgb","hexToRgb","r","undefined","g","b","s","l","hsl","opacity_status","vo","velbase","vx","vy","vx_i","vy_i","shape_type","shape_selected","sh","img","ratio","img_type","source_svg","createSvgImg","pushing","loaded","draw","p","radius_bubble","opacity_bubble","color_value","fillStyle","beginPath","arc","PI","rect","drawShape","drawImage","img_obj","closePath","strokeStyle","lineWidth","fill","i","particlesUpdate","ms","new_pos","x_left","x_right","y_top","y_bottom","isInArray","grabParticle","bubbleParticle","repulseParticle","j","p2","linkParticles","attractParticles","bounceParticles","particlesRefresh","cancelRequestAnimFrame","checkAnimFrame","drawAnimFrame","count_svg","start","p1","dx","dy","dist","sqrt","opacity_line","color_line","color_rgb_line","moveTo","lineTo","ax","ay","dist_p","pushParticles","nb","pos","pos_x","pos_y","removeParticles","splice","init","dx_mouse","dy_mouse","dist_mouse","status","dif","process","bubble_param","particles_param","p_obj_bubble","p_obj","id","bubble_duration_end","time_spent","value_tmp","bubble_clicking","click_pos_x","click_pos_y","Date","getTime","click_time","normVec","repulseRadius","velocity","repulseFactor","clamp","pow","repulse_finish","repulse_count","repulse_clicking","f","atan2","force","cos","sin","d","eventsListeners","e","clientX","clientY","offsetX","offsetY","setTimeout","area","nb_particles","missing_particles","abs","svgXml","rgbHex","coloredSvgXml","replace","m","svg","Blob","DOMURL","URL","webkitURL","url","createObjectURL","Image","revokeObjectURL","destroypJS","cancelAnimationFrame","pJSDom","c","startX","startY","sideLength","sideCountNumerator","sideCountDenominator","sideCount","decimalSides","interiorAngleDegrees","interiorAngle","save","translate","rotate","restore","exportImg","toDataURL","loadImg","img_error","xhr","currentTarget","response","checkBeforeDraw","requestAnimFrame","check","substr","deepExtendFunction","destination","source","property","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","webkitCancelRequestAnimationFrame","mozCancelRequestAnimationFrame","oCancelRequestAnimationFrame","msCancelRequestAnimationFrame","clearTimeout","hex","shorthandRegex","result","exec","parseInt","min","max","indexOf","pJS_tag","getElementById","pJS_canvas_class","exist_canvas","getElementsByClassName","removeChild","style","appendChild","path_config_json"],"mappings":"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","file":"displayResultbundle.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 0:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = function (element, index) {\n    var targetNode = $(\"#render-picture\");\n    var div = document.createElement(\"div\");\n    div.className += \" pic-container \";\n    div.setAttribute(\"data-id\", index);\n    //language=HTML\n    div.innerHTML = \"\\n        <div class=\\\"img-containers\\\">\\n            <div class=\\\"img-container\\\">\\n                <img src= \" + element.smallURL + \" alt=\\\"\\\">\\n            </div>\\n        </div>\\n        <p class=\\\"pic-path\\\">\" + element.largePATH + \"</p>\\n    \";\n    targetNode.append(div);\n};\n\n/***/ }),\n\n/***/ 12:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _clear = __webpack_require__(5);\n\nvar _clear2 = _interopRequireDefault(_clear);\n\nvar _render = __webpack_require__(0);\n\nvar _render2 = _interopRequireDefault(_render);\n\nvar _myGallery = __webpack_require__(4);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Created by petnakanojo on 29/07/2017.\n */\nconsole.log(\"This is displayResult.js\");\n__webpack_require__(1);\n__webpack_require__(2);\n__webpack_require__(13);\n__webpack_require__(3);\n__webpack_require__(0);\n\n\nvar allData = JSON.parse(localStorage.getItem(\"ddd\")).data;\nvar targetNode = $(\"#render-picture\");\n/*\nconst allData = [\n    {\n        smallURL: \"../static/img/banner.jpg\",\n        largeURL: \"../static/img/banner.jpg\",\n        largePATH: \"../static/img/banner.jpg\",\n    },\n    {\n        smallURL: \"../static/img/favicon.ico\",\n        largeURL: \"../static/img/banner.jpg\",\n        largePATH: \"../static/img/banner.jpg\",\n    },\n    {\n        smallURL: \"../static/img/banner.jpg\",\n        largeURL: \"../static/img/banner.jpg\",\n        largePATH: \"../static/img/banner.jpg\",\n    },\n    {\n        smallURL: \"../static/img/banner.jpg\",\n        largeURL: \"../static/img/banner.jpg\",\n        largePATH: \"../static/img/banner.jpg\",\n    },\n    {\n        smallURL: \"../static/img/banner.jpg\",\n        largeURL: \"../static/img/banner.jpg\",\n        largePATH: \"../static/img/banner.jpg\",\n    },\n    {\n        smallURL: \"../static/img/banner.jpg\",\n        largeURL: \"../static/img/banner.jpg\",\n        largePATH: \"../static/img/banner.jpg\",\n    },\n    {\n        smallURL: \"../static/img/banner.jpg\",\n        largeURL: \"../static/img/banner.jpg\",\n        largePATH: \"../static/img/banner.jpg\",\n    },\n    {\n        smallURL: \"../static/img/banner.jpg\",\n        largeURL: \"../static/img/banner.jpg\",\n        largePATH: \"../static/img/banner.jpg\",\n    },\n];\n*/\n(0, _clear2.default)(targetNode);\nallData.forEach(_render2.default);\n\nvar ajax = new XMLHttpRequest();\nvar sendData = {};\n\nvar DRsearchBar = $(\"#DR-search-input\");\nDRsearchBar.val(localStorage[\"searchInfo\"]);\n\n//监听搜索的回车事件，并进一步执行程序。监听到有输入即跳转到搜索结果的页面\nDRsearchBar.bind(\"keyup\", function (event) {\n    //监听回车事件\n    event = event || window.event;\n    if (event.keyCode === 13) {\n        var DRsearchInfo = DRsearchBar.val();\n        if (DRsearchInfo.length !== 0) {\n            localStorage[\"searchInfo\"] = DRsearchInfo;\n            $(\"#DR-search-input\").val(localStorage[\"searchInfo\"]);\n\n            ajax.open(\"POST\", \"/search\", true);\n            ajax.setRequestHeader(\"Content-type\", \"application/json\");\n            ajax.onreadystatechange = function () {\n                console.log(this.readyState);\n                if (this.readyState === 4) {\n                    //Todo\n                    console.log(this.responseText);\n                    localStorage.setItem(\"ddd\", this.responseText);\n                    allData = JSON.parse(localStorage.getItem(\"ddd\")).data;\n                    (0, _clear2.default)(targetNode);\n                    allData.forEach(_render2.default);\n\n                    /*allData = [\n                     {\n                     smallURL: \"../static/img/banner.jpg\",\n                     largeURL: \"../static/img/banner.jpg\",\n                     largePATH: \"../static/img/banner.jpg\",\n                     }\n                     ];*/\n                }\n            };\n            sendData.keyword = DRsearchInfo;\n            sendData.path = _myGallery.searchPath;\n            //这里要向服务器发送请求。\n            ajax.send(JSON.stringify(sendData));\n\n            (0, _clear2.default)(targetNode);\n            allData.forEach(_render2.default);\n            //这里要向服务器发请求\n\n        } else {}\n    }\n}, false);\n\n$(\".pic-container\").live(\"click\", function () {\n    var index = $(this).attr(\"data-id\");\n    $(\"#large-pic\").attr(\"src\", allData[index].largeURL);\n    $(\"#pic-path\").html(allData[index].largePATH);\n\n    $(\"#render-picture\").addClass(\"blur-display-heavy\");\n    $(\"#display-large-container\").fadeIn(100);\n});\n$(\"#close-display\").click(function () {\n    $(\"#display-large-container\").fadeOut(100);\n    $(\"#render-picture\").removeClass(\"blur-display-heavy\");\n});\nparticlesJS.load('particles-js', \"../../../assets/particles.json\", function () {\n    console.log('callback - particles.js config loaded');\n});\n\n/***/ }),\n\n/***/ 13:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 3:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/* -----------------------------------------------\n/* Author : Vincent Garreau  - vincentgarreau.com\n/* MIT license: http://opensource.org/licenses/MIT\n/* Demo / Generator : vincentgarreau.com/particles.js\n/* GitHub : github.com/VincentGarreau/particles.js\n/* How to use? : Check the GitHub README\n/* v2.0.0\n/* ----------------------------------------------- */\n\nvar pJS = function pJS(tag_id, params) {\n\n  var canvas_el = document.querySelector('#' + tag_id + ' > .particles-js-canvas-el');\n\n  /* particles.js variables with default values */\n  this.pJS = {\n    canvas: {\n      el: canvas_el,\n      w: canvas_el.offsetWidth,\n      h: canvas_el.offsetHeight\n    },\n    particles: {\n      number: {\n        value: 400,\n        density: {\n          enable: true,\n          value_area: 800\n        }\n      },\n      color: {\n        value: '#fff'\n      },\n      shape: {\n        type: 'circle',\n        stroke: {\n          width: 0,\n          color: '#ff0000'\n        },\n        polygon: {\n          nb_sides: 5\n        },\n        image: {\n          src: '',\n          width: 100,\n          height: 100\n        }\n      },\n      opacity: {\n        value: 1,\n        random: false,\n        anim: {\n          enable: false,\n          speed: 2,\n          opacity_min: 0,\n          sync: false\n        }\n      },\n      size: {\n        value: 20,\n        random: false,\n        anim: {\n          enable: false,\n          speed: 20,\n          size_min: 0,\n          sync: false\n        }\n      },\n      line_linked: {\n        enable: true,\n        distance: 100,\n        color: '#fff',\n        opacity: 1,\n        width: 1\n      },\n      move: {\n        enable: true,\n        speed: 2,\n        direction: 'none',\n        random: false,\n        straight: false,\n        out_mode: 'out',\n        bounce: false,\n        attract: {\n          enable: false,\n          rotateX: 3000,\n          rotateY: 3000\n        }\n      },\n      array: []\n    },\n    interactivity: {\n      detect_on: 'canvas',\n      events: {\n        onhover: {\n          enable: true,\n          mode: 'grab'\n        },\n        onclick: {\n          enable: true,\n          mode: 'push'\n        },\n        resize: true\n      },\n      modes: {\n        grab: {\n          distance: 100,\n          line_linked: {\n            opacity: 1\n          }\n        },\n        bubble: {\n          distance: 200,\n          size: 80,\n          duration: 0.4\n        },\n        repulse: {\n          distance: 200,\n          duration: 0.4\n        },\n        push: {\n          particles_nb: 4\n        },\n        remove: {\n          particles_nb: 2\n        }\n      },\n      mouse: {}\n    },\n    retina_detect: false,\n    fn: {\n      interact: {},\n      modes: {},\n      vendors: {}\n    },\n    tmp: {}\n  };\n\n  var pJS = this.pJS;\n\n  /* params settings */\n  if (params) {\n    Object.deepExtend(pJS, params);\n  }\n\n  pJS.tmp.obj = {\n    size_value: pJS.particles.size.value,\n    size_anim_speed: pJS.particles.size.anim.speed,\n    move_speed: pJS.particles.move.speed,\n    line_linked_distance: pJS.particles.line_linked.distance,\n    line_linked_width: pJS.particles.line_linked.width,\n    mode_grab_distance: pJS.interactivity.modes.grab.distance,\n    mode_bubble_distance: pJS.interactivity.modes.bubble.distance,\n    mode_bubble_size: pJS.interactivity.modes.bubble.size,\n    mode_repulse_distance: pJS.interactivity.modes.repulse.distance\n  };\n\n  pJS.fn.retinaInit = function () {\n\n    if (pJS.retina_detect && window.devicePixelRatio > 1) {\n      pJS.canvas.pxratio = window.devicePixelRatio;\n      pJS.tmp.retina = true;\n    } else {\n      pJS.canvas.pxratio = 1;\n      pJS.tmp.retina = false;\n    }\n\n    pJS.canvas.w = pJS.canvas.el.offsetWidth * pJS.canvas.pxratio;\n    pJS.canvas.h = pJS.canvas.el.offsetHeight * pJS.canvas.pxratio;\n\n    pJS.particles.size.value = pJS.tmp.obj.size_value * pJS.canvas.pxratio;\n    pJS.particles.size.anim.speed = pJS.tmp.obj.size_anim_speed * pJS.canvas.pxratio;\n    pJS.particles.move.speed = pJS.tmp.obj.move_speed * pJS.canvas.pxratio;\n    pJS.particles.line_linked.distance = pJS.tmp.obj.line_linked_distance * pJS.canvas.pxratio;\n    pJS.interactivity.modes.grab.distance = pJS.tmp.obj.mode_grab_distance * pJS.canvas.pxratio;\n    pJS.interactivity.modes.bubble.distance = pJS.tmp.obj.mode_bubble_distance * pJS.canvas.pxratio;\n    pJS.particles.line_linked.width = pJS.tmp.obj.line_linked_width * pJS.canvas.pxratio;\n    pJS.interactivity.modes.bubble.size = pJS.tmp.obj.mode_bubble_size * pJS.canvas.pxratio;\n    pJS.interactivity.modes.repulse.distance = pJS.tmp.obj.mode_repulse_distance * pJS.canvas.pxratio;\n  };\n\n  /* ---------- pJS functions - canvas ------------ */\n\n  pJS.fn.canvasInit = function () {\n    pJS.canvas.ctx = pJS.canvas.el.getContext('2d');\n  };\n\n  pJS.fn.canvasSize = function () {\n\n    pJS.canvas.el.width = pJS.canvas.w;\n    pJS.canvas.el.height = pJS.canvas.h;\n\n    if (pJS && pJS.interactivity.events.resize) {\n\n      window.addEventListener('resize', function () {\n\n        pJS.canvas.w = pJS.canvas.el.offsetWidth;\n        pJS.canvas.h = pJS.canvas.el.offsetHeight;\n\n        /* resize canvas */\n        if (pJS.tmp.retina) {\n          pJS.canvas.w *= pJS.canvas.pxratio;\n          pJS.canvas.h *= pJS.canvas.pxratio;\n        }\n\n        pJS.canvas.el.width = pJS.canvas.w;\n        pJS.canvas.el.height = pJS.canvas.h;\n\n        /* repaint canvas on anim disabled */\n        if (!pJS.particles.move.enable) {\n          pJS.fn.particlesEmpty();\n          pJS.fn.particlesCreate();\n          pJS.fn.particlesDraw();\n          pJS.fn.vendors.densityAutoParticles();\n        }\n\n        /* density particles enabled */\n        pJS.fn.vendors.densityAutoParticles();\n      });\n    }\n  };\n\n  pJS.fn.canvasPaint = function () {\n    pJS.canvas.ctx.fillRect(0, 0, pJS.canvas.w, pJS.canvas.h);\n  };\n\n  pJS.fn.canvasClear = function () {\n    pJS.canvas.ctx.clearRect(0, 0, pJS.canvas.w, pJS.canvas.h);\n  };\n\n  /* --------- pJS functions - particles ----------- */\n\n  pJS.fn.particle = function (color, opacity, position) {\n\n    /* size */\n    this.radius = (pJS.particles.size.random ? Math.random() : 1) * pJS.particles.size.value;\n    if (pJS.particles.size.anim.enable) {\n      this.size_status = false;\n      this.vs = pJS.particles.size.anim.speed / 100;\n      if (!pJS.particles.size.anim.sync) {\n        this.vs = this.vs * Math.random();\n      }\n    }\n\n    /* position */\n    this.x = position ? position.x : Math.random() * pJS.canvas.w;\n    this.y = position ? position.y : Math.random() * pJS.canvas.h;\n\n    /* check position  - into the canvas */\n    if (this.x > pJS.canvas.w - this.radius * 2) this.x = this.x - this.radius;else if (this.x < this.radius * 2) this.x = this.x + this.radius;\n    if (this.y > pJS.canvas.h - this.radius * 2) this.y = this.y - this.radius;else if (this.y < this.radius * 2) this.y = this.y + this.radius;\n\n    /* check position - avoid overlap */\n    if (pJS.particles.move.bounce) {\n      pJS.fn.vendors.checkOverlap(this, position);\n    }\n\n    /* color */\n    this.color = {};\n    if (_typeof(color.value) == 'object') {\n\n      if (color.value instanceof Array) {\n        var color_selected = color.value[Math.floor(Math.random() * pJS.particles.color.value.length)];\n        this.color.rgb = hexToRgb(color_selected);\n      } else {\n        if (color.value.r != undefined && color.value.g != undefined && color.value.b != undefined) {\n          this.color.rgb = {\n            r: color.value.r,\n            g: color.value.g,\n            b: color.value.b\n          };\n        }\n        if (color.value.h != undefined && color.value.s != undefined && color.value.l != undefined) {\n          this.color.hsl = {\n            h: color.value.h,\n            s: color.value.s,\n            l: color.value.l\n          };\n        }\n      }\n    } else if (color.value == 'random') {\n      this.color.rgb = {\n        r: Math.floor(Math.random() * (255 - 0 + 1)) + 0,\n        g: Math.floor(Math.random() * (255 - 0 + 1)) + 0,\n        b: Math.floor(Math.random() * (255 - 0 + 1)) + 0\n      };\n    } else if (typeof color.value == 'string') {\n      this.color = color;\n      this.color.rgb = hexToRgb(this.color.value);\n    }\n\n    /* opacity */\n    this.opacity = (pJS.particles.opacity.random ? Math.random() : 1) * pJS.particles.opacity.value;\n    if (pJS.particles.opacity.anim.enable) {\n      this.opacity_status = false;\n      this.vo = pJS.particles.opacity.anim.speed / 100;\n      if (!pJS.particles.opacity.anim.sync) {\n        this.vo = this.vo * Math.random();\n      }\n    }\n\n    /* animation - velocity for speed */\n    var velbase = {};\n    switch (pJS.particles.move.direction) {\n      case 'top':\n        velbase = { x: 0, y: -1 };\n        break;\n      case 'top-right':\n        velbase = { x: 0.5, y: -0.5 };\n        break;\n      case 'right':\n        velbase = { x: 1, y: -0 };\n        break;\n      case 'bottom-right':\n        velbase = { x: 0.5, y: 0.5 };\n        break;\n      case 'bottom':\n        velbase = { x: 0, y: 1 };\n        break;\n      case 'bottom-left':\n        velbase = { x: -0.5, y: 1 };\n        break;\n      case 'left':\n        velbase = { x: -1, y: 0 };\n        break;\n      case 'top-left':\n        velbase = { x: -0.5, y: -0.5 };\n        break;\n      default:\n        velbase = { x: 0, y: 0 };\n        break;\n    }\n\n    if (pJS.particles.move.straight) {\n      this.vx = velbase.x;\n      this.vy = velbase.y;\n      if (pJS.particles.move.random) {\n        this.vx = this.vx * Math.random();\n        this.vy = this.vy * Math.random();\n      }\n    } else {\n      this.vx = velbase.x + Math.random() - 0.5;\n      this.vy = velbase.y + Math.random() - 0.5;\n    }\n\n    // var theta = 2.0 * Math.PI * Math.random();\n    // this.vx = Math.cos(theta);\n    // this.vy = Math.sin(theta);\n\n    this.vx_i = this.vx;\n    this.vy_i = this.vy;\n\n    /* if shape is image */\n\n    var shape_type = pJS.particles.shape.type;\n    if ((typeof shape_type === 'undefined' ? 'undefined' : _typeof(shape_type)) == 'object') {\n      if (shape_type instanceof Array) {\n        var shape_selected = shape_type[Math.floor(Math.random() * shape_type.length)];\n        this.shape = shape_selected;\n      }\n    } else {\n      this.shape = shape_type;\n    }\n\n    if (this.shape == 'image') {\n      var sh = pJS.particles.shape;\n      this.img = {\n        src: sh.image.src,\n        ratio: sh.image.width / sh.image.height\n      };\n      if (!this.img.ratio) this.img.ratio = 1;\n      if (pJS.tmp.img_type == 'svg' && pJS.tmp.source_svg != undefined) {\n        pJS.fn.vendors.createSvgImg(this);\n        if (pJS.tmp.pushing) {\n          this.img.loaded = false;\n        }\n      }\n    }\n  };\n\n  pJS.fn.particle.prototype.draw = function () {\n\n    var p = this;\n\n    if (p.radius_bubble != undefined) {\n      var radius = p.radius_bubble;\n    } else {\n      var radius = p.radius;\n    }\n\n    if (p.opacity_bubble != undefined) {\n      var opacity = p.opacity_bubble;\n    } else {\n      var opacity = p.opacity;\n    }\n\n    if (p.color.rgb) {\n      var color_value = 'rgba(' + p.color.rgb.r + ',' + p.color.rgb.g + ',' + p.color.rgb.b + ',' + opacity + ')';\n    } else {\n      var color_value = 'hsla(' + p.color.hsl.h + ',' + p.color.hsl.s + '%,' + p.color.hsl.l + '%,' + opacity + ')';\n    }\n\n    pJS.canvas.ctx.fillStyle = color_value;\n    pJS.canvas.ctx.beginPath();\n\n    switch (p.shape) {\n\n      case 'circle':\n        pJS.canvas.ctx.arc(p.x, p.y, radius, 0, Math.PI * 2, false);\n        break;\n\n      case 'edge':\n        pJS.canvas.ctx.rect(p.x - radius, p.y - radius, radius * 2, radius * 2);\n        break;\n\n      case 'triangle':\n        pJS.fn.vendors.drawShape(pJS.canvas.ctx, p.x - radius, p.y + radius / 1.66, radius * 2, 3, 2);\n        break;\n\n      case 'polygon':\n        pJS.fn.vendors.drawShape(pJS.canvas.ctx, p.x - radius / (pJS.particles.shape.polygon.nb_sides / 3.5), // startX\n        p.y - radius / (2.66 / 3.5), // startY\n        radius * 2.66 / (pJS.particles.shape.polygon.nb_sides / 3), // sideLength\n        pJS.particles.shape.polygon.nb_sides, // sideCountNumerator\n        1 // sideCountDenominator\n        );\n        break;\n\n      case 'star':\n        pJS.fn.vendors.drawShape(pJS.canvas.ctx, p.x - radius * 2 / (pJS.particles.shape.polygon.nb_sides / 4), // startX\n        p.y - radius / (2 * 2.66 / 3.5), // startY\n        radius * 2 * 2.66 / (pJS.particles.shape.polygon.nb_sides / 3), // sideLength\n        pJS.particles.shape.polygon.nb_sides, // sideCountNumerator\n        2 // sideCountDenominator\n        );\n        break;\n\n      case 'image':\n        var draw = function draw() {\n          pJS.canvas.ctx.drawImage(img_obj, p.x - radius, p.y - radius, radius * 2, radius * 2 / p.img.ratio);\n        };\n\n        if (pJS.tmp.img_type == 'svg') {\n          var img_obj = p.img.obj;\n        } else {\n          var img_obj = pJS.tmp.img_obj;\n        }\n\n        if (img_obj) {\n          draw();\n        }\n\n        break;\n\n    }\n\n    pJS.canvas.ctx.closePath();\n\n    if (pJS.particles.shape.stroke.width > 0) {\n      pJS.canvas.ctx.strokeStyle = pJS.particles.shape.stroke.color;\n      pJS.canvas.ctx.lineWidth = pJS.particles.shape.stroke.width;\n      pJS.canvas.ctx.stroke();\n    }\n\n    pJS.canvas.ctx.fill();\n  };\n\n  pJS.fn.particlesCreate = function () {\n    for (var i = 0; i < pJS.particles.number.value; i++) {\n      pJS.particles.array.push(new pJS.fn.particle(pJS.particles.color, pJS.particles.opacity.value));\n    }\n  };\n\n  pJS.fn.particlesUpdate = function () {\n\n    for (var i = 0; i < pJS.particles.array.length; i++) {\n\n      /* the particle */\n      var p = pJS.particles.array[i];\n\n      // var d = ( dx = pJS.interactivity.mouse.click_pos_x - p.x ) * dx + ( dy = pJS.interactivity.mouse.click_pos_y - p.y ) * dy;\n      // var f = -BANG_SIZE / d;\n      // if ( d < BANG_SIZE ) {\n      //     var t = Math.atan2( dy, dx );\n      //     p.vx = f * Math.cos(t);\n      //     p.vy = f * Math.sin(t);\n      // }\n\n      /* move the particle */\n      if (pJS.particles.move.enable) {\n        var ms = pJS.particles.move.speed / 2;\n        p.x += p.vx * ms;\n        p.y += p.vy * ms;\n      }\n\n      /* change opacity status */\n      if (pJS.particles.opacity.anim.enable) {\n        if (p.opacity_status == true) {\n          if (p.opacity >= pJS.particles.opacity.value) p.opacity_status = false;\n          p.opacity += p.vo;\n        } else {\n          if (p.opacity <= pJS.particles.opacity.anim.opacity_min) p.opacity_status = true;\n          p.opacity -= p.vo;\n        }\n        if (p.opacity < 0) p.opacity = 0;\n      }\n\n      /* change size */\n      if (pJS.particles.size.anim.enable) {\n        if (p.size_status == true) {\n          if (p.radius >= pJS.particles.size.value) p.size_status = false;\n          p.radius += p.vs;\n        } else {\n          if (p.radius <= pJS.particles.size.anim.size_min) p.size_status = true;\n          p.radius -= p.vs;\n        }\n        if (p.radius < 0) p.radius = 0;\n      }\n\n      /* change particle position if it is out of canvas */\n      if (pJS.particles.move.out_mode == 'bounce') {\n        var new_pos = {\n          x_left: p.radius,\n          x_right: pJS.canvas.w,\n          y_top: p.radius,\n          y_bottom: pJS.canvas.h\n        };\n      } else {\n        var new_pos = {\n          x_left: -p.radius,\n          x_right: pJS.canvas.w + p.radius,\n          y_top: -p.radius,\n          y_bottom: pJS.canvas.h + p.radius\n        };\n      }\n\n      if (p.x - p.radius > pJS.canvas.w) {\n        p.x = new_pos.x_left;\n        p.y = Math.random() * pJS.canvas.h;\n      } else if (p.x + p.radius < 0) {\n        p.x = new_pos.x_right;\n        p.y = Math.random() * pJS.canvas.h;\n      }\n      if (p.y - p.radius > pJS.canvas.h) {\n        p.y = new_pos.y_top;\n        p.x = Math.random() * pJS.canvas.w;\n      } else if (p.y + p.radius < 0) {\n        p.y = new_pos.y_bottom;\n        p.x = Math.random() * pJS.canvas.w;\n      }\n\n      /* out of canvas modes */\n      switch (pJS.particles.move.out_mode) {\n        case 'bounce':\n          if (p.x + p.radius > pJS.canvas.w) p.vx = -p.vx;else if (p.x - p.radius < 0) p.vx = -p.vx;\n          if (p.y + p.radius > pJS.canvas.h) p.vy = -p.vy;else if (p.y - p.radius < 0) p.vy = -p.vy;\n          break;\n      }\n\n      /* events */\n      if (isInArray('grab', pJS.interactivity.events.onhover.mode)) {\n        pJS.fn.modes.grabParticle(p);\n      }\n\n      if (isInArray('bubble', pJS.interactivity.events.onhover.mode) || isInArray('bubble', pJS.interactivity.events.onclick.mode)) {\n        pJS.fn.modes.bubbleParticle(p);\n      }\n\n      if (isInArray('repulse', pJS.interactivity.events.onhover.mode) || isInArray('repulse', pJS.interactivity.events.onclick.mode)) {\n        pJS.fn.modes.repulseParticle(p);\n      }\n\n      /* interaction auto between particles */\n      if (pJS.particles.line_linked.enable || pJS.particles.move.attract.enable) {\n        for (var j = i + 1; j < pJS.particles.array.length; j++) {\n          var p2 = pJS.particles.array[j];\n\n          /* link particles */\n          if (pJS.particles.line_linked.enable) {\n            pJS.fn.interact.linkParticles(p, p2);\n          }\n\n          /* attract particles */\n          if (pJS.particles.move.attract.enable) {\n            pJS.fn.interact.attractParticles(p, p2);\n          }\n\n          /* bounce particles */\n          if (pJS.particles.move.bounce) {\n            pJS.fn.interact.bounceParticles(p, p2);\n          }\n        }\n      }\n    }\n  };\n\n  pJS.fn.particlesDraw = function () {\n\n    /* clear canvas */\n    pJS.canvas.ctx.clearRect(0, 0, pJS.canvas.w, pJS.canvas.h);\n\n    /* update each particles param */\n    pJS.fn.particlesUpdate();\n\n    /* draw each particle */\n    for (var i = 0; i < pJS.particles.array.length; i++) {\n      var p = pJS.particles.array[i];\n      p.draw();\n    }\n  };\n\n  pJS.fn.particlesEmpty = function () {\n    pJS.particles.array = [];\n  };\n\n  pJS.fn.particlesRefresh = function () {\n\n    /* init all */\n    cancelRequestAnimFrame(pJS.fn.checkAnimFrame);\n    cancelRequestAnimFrame(pJS.fn.drawAnimFrame);\n    pJS.tmp.source_svg = undefined;\n    pJS.tmp.img_obj = undefined;\n    pJS.tmp.count_svg = 0;\n    pJS.fn.particlesEmpty();\n    pJS.fn.canvasClear();\n\n    /* restart */\n    pJS.fn.vendors.start();\n  };\n\n  /* ---------- pJS functions - particles interaction ------------ */\n\n  pJS.fn.interact.linkParticles = function (p1, p2) {\n\n    var dx = p1.x - p2.x,\n        dy = p1.y - p2.y,\n        dist = Math.sqrt(dx * dx + dy * dy);\n\n    /* draw a line between p1 and p2 if the distance between them is under the config distance */\n    if (dist <= pJS.particles.line_linked.distance) {\n\n      var opacity_line = pJS.particles.line_linked.opacity - dist / (1 / pJS.particles.line_linked.opacity) / pJS.particles.line_linked.distance;\n\n      if (opacity_line > 0) {\n\n        /* style */\n        var color_line = pJS.particles.line_linked.color_rgb_line;\n        pJS.canvas.ctx.strokeStyle = 'rgba(' + color_line.r + ',' + color_line.g + ',' + color_line.b + ',' + opacity_line + ')';\n        pJS.canvas.ctx.lineWidth = pJS.particles.line_linked.width;\n        //pJS.canvas.ctx.lineCap = 'round'; /* performance issue */\n\n        /* path */\n        pJS.canvas.ctx.beginPath();\n        pJS.canvas.ctx.moveTo(p1.x, p1.y);\n        pJS.canvas.ctx.lineTo(p2.x, p2.y);\n        pJS.canvas.ctx.stroke();\n        pJS.canvas.ctx.closePath();\n      }\n    }\n  };\n\n  pJS.fn.interact.attractParticles = function (p1, p2) {\n\n    /* condensed particles */\n    var dx = p1.x - p2.x,\n        dy = p1.y - p2.y,\n        dist = Math.sqrt(dx * dx + dy * dy);\n\n    if (dist <= pJS.particles.line_linked.distance) {\n\n      var ax = dx / (pJS.particles.move.attract.rotateX * 1000),\n          ay = dy / (pJS.particles.move.attract.rotateY * 1000);\n\n      p1.vx -= ax;\n      p1.vy -= ay;\n\n      p2.vx += ax;\n      p2.vy += ay;\n    }\n  };\n\n  pJS.fn.interact.bounceParticles = function (p1, p2) {\n\n    var dx = p1.x - p2.x,\n        dy = p1.y - p2.y,\n        dist = Math.sqrt(dx * dx + dy * dy),\n        dist_p = p1.radius + p2.radius;\n\n    if (dist <= dist_p) {\n      p1.vx = -p1.vx;\n      p1.vy = -p1.vy;\n\n      p2.vx = -p2.vx;\n      p2.vy = -p2.vy;\n    }\n  };\n\n  /* ---------- pJS functions - modes events ------------ */\n\n  pJS.fn.modes.pushParticles = function (nb, pos) {\n\n    pJS.tmp.pushing = true;\n\n    for (var i = 0; i < nb; i++) {\n      pJS.particles.array.push(new pJS.fn.particle(pJS.particles.color, pJS.particles.opacity.value, {\n        'x': pos ? pos.pos_x : Math.random() * pJS.canvas.w,\n        'y': pos ? pos.pos_y : Math.random() * pJS.canvas.h\n      }));\n      if (i == nb - 1) {\n        if (!pJS.particles.move.enable) {\n          pJS.fn.particlesDraw();\n        }\n        pJS.tmp.pushing = false;\n      }\n    }\n  };\n\n  pJS.fn.modes.removeParticles = function (nb) {\n\n    pJS.particles.array.splice(0, nb);\n    if (!pJS.particles.move.enable) {\n      pJS.fn.particlesDraw();\n    }\n  };\n\n  pJS.fn.modes.bubbleParticle = function (p) {\n\n    /* on hover event */\n    if (pJS.interactivity.events.onhover.enable && isInArray('bubble', pJS.interactivity.events.onhover.mode)) {\n      var init = function init() {\n        p.opacity_bubble = p.opacity;\n        p.radius_bubble = p.radius;\n      };\n\n      /* mousemove - check ratio */\n\n\n      var dx_mouse = p.x - pJS.interactivity.mouse.pos_x,\n          dy_mouse = p.y - pJS.interactivity.mouse.pos_y,\n          dist_mouse = Math.sqrt(dx_mouse * dx_mouse + dy_mouse * dy_mouse),\n          ratio = 1 - dist_mouse / pJS.interactivity.modes.bubble.distance;\n\n      if (dist_mouse <= pJS.interactivity.modes.bubble.distance) {\n\n        if (ratio >= 0 && pJS.interactivity.status == 'mousemove') {\n\n          /* size */\n          if (pJS.interactivity.modes.bubble.size != pJS.particles.size.value) {\n\n            if (pJS.interactivity.modes.bubble.size > pJS.particles.size.value) {\n              var size = p.radius + pJS.interactivity.modes.bubble.size * ratio;\n              if (size >= 0) {\n                p.radius_bubble = size;\n              }\n            } else {\n              var dif = p.radius - pJS.interactivity.modes.bubble.size,\n                  size = p.radius - dif * ratio;\n              if (size > 0) {\n                p.radius_bubble = size;\n              } else {\n                p.radius_bubble = 0;\n              }\n            }\n          }\n\n          /* opacity */\n          if (pJS.interactivity.modes.bubble.opacity != pJS.particles.opacity.value) {\n\n            if (pJS.interactivity.modes.bubble.opacity > pJS.particles.opacity.value) {\n              var opacity = pJS.interactivity.modes.bubble.opacity * ratio;\n              if (opacity > p.opacity && opacity <= pJS.interactivity.modes.bubble.opacity) {\n                p.opacity_bubble = opacity;\n              }\n            } else {\n              var opacity = p.opacity - (pJS.particles.opacity.value - pJS.interactivity.modes.bubble.opacity) * ratio;\n              if (opacity < p.opacity && opacity >= pJS.interactivity.modes.bubble.opacity) {\n                p.opacity_bubble = opacity;\n              }\n            }\n          }\n        }\n      } else {\n        init();\n      }\n\n      /* mouseleave */\n      if (pJS.interactivity.status == 'mouseleave') {\n        init();\n      }\n    }\n\n    /* on click event */\n    else if (pJS.interactivity.events.onclick.enable && isInArray('bubble', pJS.interactivity.events.onclick.mode)) {\n        var process = function process(bubble_param, particles_param, p_obj_bubble, p_obj, id) {\n\n          if (bubble_param != particles_param) {\n\n            if (!pJS.tmp.bubble_duration_end) {\n              if (dist_mouse <= pJS.interactivity.modes.bubble.distance) {\n                if (p_obj_bubble != undefined) var obj = p_obj_bubble;else var obj = p_obj;\n                if (obj != bubble_param) {\n                  var value = p_obj - time_spent * (p_obj - bubble_param) / pJS.interactivity.modes.bubble.duration;\n                  if (id == 'size') p.radius_bubble = value;\n                  if (id == 'opacity') p.opacity_bubble = value;\n                }\n              } else {\n                if (id == 'size') p.radius_bubble = undefined;\n                if (id == 'opacity') p.opacity_bubble = undefined;\n              }\n            } else {\n              if (p_obj_bubble != undefined) {\n                var value_tmp = p_obj - time_spent * (p_obj - bubble_param) / pJS.interactivity.modes.bubble.duration,\n                    dif = bubble_param - value_tmp;\n                value = bubble_param + dif;\n                if (id == 'size') p.radius_bubble = value;\n                if (id == 'opacity') p.opacity_bubble = value;\n              }\n            }\n          }\n        };\n\n        if (pJS.tmp.bubble_clicking) {\n          var dx_mouse = p.x - pJS.interactivity.mouse.click_pos_x,\n              dy_mouse = p.y - pJS.interactivity.mouse.click_pos_y,\n              dist_mouse = Math.sqrt(dx_mouse * dx_mouse + dy_mouse * dy_mouse),\n              time_spent = (new Date().getTime() - pJS.interactivity.mouse.click_time) / 1000;\n\n          if (time_spent > pJS.interactivity.modes.bubble.duration) {\n            pJS.tmp.bubble_duration_end = true;\n          }\n\n          if (time_spent > pJS.interactivity.modes.bubble.duration * 2) {\n            pJS.tmp.bubble_clicking = false;\n            pJS.tmp.bubble_duration_end = false;\n          }\n        }\n\n        if (pJS.tmp.bubble_clicking) {\n          /* size */\n          process(pJS.interactivity.modes.bubble.size, pJS.particles.size.value, p.radius_bubble, p.radius, 'size');\n          /* opacity */\n          process(pJS.interactivity.modes.bubble.opacity, pJS.particles.opacity.value, p.opacity_bubble, p.opacity, 'opacity');\n        }\n      }\n  };\n\n  pJS.fn.modes.repulseParticle = function (p) {\n\n    if (pJS.interactivity.events.onhover.enable && isInArray('repulse', pJS.interactivity.events.onhover.mode) && pJS.interactivity.status == 'mousemove') {\n\n      var dx_mouse = p.x - pJS.interactivity.mouse.pos_x,\n          dy_mouse = p.y - pJS.interactivity.mouse.pos_y,\n          dist_mouse = Math.sqrt(dx_mouse * dx_mouse + dy_mouse * dy_mouse);\n\n      var normVec = { x: dx_mouse / dist_mouse, y: dy_mouse / dist_mouse },\n          repulseRadius = pJS.interactivity.modes.repulse.distance,\n          velocity = 100,\n          repulseFactor = clamp(1 / repulseRadius * (-1 * Math.pow(dist_mouse / repulseRadius, 2) + 1) * repulseRadius * velocity, 0, 50);\n\n      var pos = {\n        x: p.x + normVec.x * repulseFactor,\n        y: p.y + normVec.y * repulseFactor\n      };\n\n      if (pJS.particles.move.out_mode == 'bounce') {\n        if (pos.x - p.radius > 0 && pos.x + p.radius < pJS.canvas.w) p.x = pos.x;\n        if (pos.y - p.radius > 0 && pos.y + p.radius < pJS.canvas.h) p.y = pos.y;\n      } else {\n        p.x = pos.x;\n        p.y = pos.y;\n      }\n    } else if (pJS.interactivity.events.onclick.enable && isInArray('repulse', pJS.interactivity.events.onclick.mode)) {\n\n      if (!pJS.tmp.repulse_finish) {\n        pJS.tmp.repulse_count++;\n        if (pJS.tmp.repulse_count == pJS.particles.array.length) {\n          pJS.tmp.repulse_finish = true;\n        }\n      }\n\n      if (pJS.tmp.repulse_clicking) {\n        var process = function process() {\n\n          var f = Math.atan2(dy, dx);\n          p.vx = force * Math.cos(f);\n          p.vy = force * Math.sin(f);\n\n          if (pJS.particles.move.out_mode == 'bounce') {\n            var pos = {\n              x: p.x + p.vx,\n              y: p.y + p.vy\n            };\n            if (pos.x + p.radius > pJS.canvas.w) p.vx = -p.vx;else if (pos.x - p.radius < 0) p.vx = -p.vx;\n            if (pos.y + p.radius > pJS.canvas.h) p.vy = -p.vy;else if (pos.y - p.radius < 0) p.vy = -p.vy;\n          }\n        };\n\n        // default\n\n\n        var repulseRadius = Math.pow(pJS.interactivity.modes.repulse.distance / 6, 3);\n\n        var dx = pJS.interactivity.mouse.click_pos_x - p.x,\n            dy = pJS.interactivity.mouse.click_pos_y - p.y,\n            d = dx * dx + dy * dy;\n\n        var force = -repulseRadius / d * 1;\n\n        if (d <= repulseRadius) {\n          process();\n        }\n\n        // bang - slow motion mode\n        // if(!pJS.tmp.repulse_finish){\n        //   if(d <= repulseRadius){\n        //     process();\n        //   }\n        // }else{\n        //   process();\n        // }\n\n      } else {\n\n        if (pJS.tmp.repulse_clicking == false) {\n\n          p.vx = p.vx_i;\n          p.vy = p.vy_i;\n        }\n      }\n    }\n  };\n\n  pJS.fn.modes.grabParticle = function (p) {\n\n    if (pJS.interactivity.events.onhover.enable && pJS.interactivity.status == 'mousemove') {\n\n      var dx_mouse = p.x - pJS.interactivity.mouse.pos_x,\n          dy_mouse = p.y - pJS.interactivity.mouse.pos_y,\n          dist_mouse = Math.sqrt(dx_mouse * dx_mouse + dy_mouse * dy_mouse);\n\n      /* draw a line between the cursor and the particle if the distance between them is under the config distance */\n      if (dist_mouse <= pJS.interactivity.modes.grab.distance) {\n\n        var opacity_line = pJS.interactivity.modes.grab.line_linked.opacity - dist_mouse / (1 / pJS.interactivity.modes.grab.line_linked.opacity) / pJS.interactivity.modes.grab.distance;\n\n        if (opacity_line > 0) {\n\n          /* style */\n          var color_line = pJS.particles.line_linked.color_rgb_line;\n          pJS.canvas.ctx.strokeStyle = 'rgba(' + color_line.r + ',' + color_line.g + ',' + color_line.b + ',' + opacity_line + ')';\n          pJS.canvas.ctx.lineWidth = pJS.particles.line_linked.width;\n          //pJS.canvas.ctx.lineCap = 'round'; /* performance issue */\n\n          /* path */\n          pJS.canvas.ctx.beginPath();\n          pJS.canvas.ctx.moveTo(p.x, p.y);\n          pJS.canvas.ctx.lineTo(pJS.interactivity.mouse.pos_x, pJS.interactivity.mouse.pos_y);\n          pJS.canvas.ctx.stroke();\n          pJS.canvas.ctx.closePath();\n        }\n      }\n    }\n  };\n\n  /* ---------- pJS functions - vendors ------------ */\n\n  pJS.fn.vendors.eventsListeners = function () {\n\n    /* events target element */\n    if (pJS.interactivity.detect_on == 'window') {\n      pJS.interactivity.el = window;\n    } else {\n      pJS.interactivity.el = pJS.canvas.el;\n    }\n\n    /* detect mouse pos - on hover / click event */\n    if (pJS.interactivity.events.onhover.enable || pJS.interactivity.events.onclick.enable) {\n\n      /* el on mousemove */\n      pJS.interactivity.el.addEventListener('mousemove', function (e) {\n\n        if (pJS.interactivity.el == window) {\n          var pos_x = e.clientX,\n              pos_y = e.clientY;\n        } else {\n          var pos_x = e.offsetX || e.clientX,\n              pos_y = e.offsetY || e.clientY;\n        }\n\n        pJS.interactivity.mouse.pos_x = pos_x;\n        pJS.interactivity.mouse.pos_y = pos_y;\n\n        if (pJS.tmp.retina) {\n          pJS.interactivity.mouse.pos_x *= pJS.canvas.pxratio;\n          pJS.interactivity.mouse.pos_y *= pJS.canvas.pxratio;\n        }\n\n        pJS.interactivity.status = 'mousemove';\n      });\n\n      /* el on onmouseleave */\n      pJS.interactivity.el.addEventListener('mouseleave', function (e) {\n\n        pJS.interactivity.mouse.pos_x = null;\n        pJS.interactivity.mouse.pos_y = null;\n        pJS.interactivity.status = 'mouseleave';\n      });\n    }\n\n    /* on click event */\n    if (pJS.interactivity.events.onclick.enable) {\n\n      pJS.interactivity.el.addEventListener('click', function () {\n\n        pJS.interactivity.mouse.click_pos_x = pJS.interactivity.mouse.pos_x;\n        pJS.interactivity.mouse.click_pos_y = pJS.interactivity.mouse.pos_y;\n        pJS.interactivity.mouse.click_time = new Date().getTime();\n\n        if (pJS.interactivity.events.onclick.enable) {\n\n          switch (pJS.interactivity.events.onclick.mode) {\n\n            case 'push':\n              if (pJS.particles.move.enable) {\n                pJS.fn.modes.pushParticles(pJS.interactivity.modes.push.particles_nb, pJS.interactivity.mouse);\n              } else {\n                if (pJS.interactivity.modes.push.particles_nb == 1) {\n                  pJS.fn.modes.pushParticles(pJS.interactivity.modes.push.particles_nb, pJS.interactivity.mouse);\n                } else if (pJS.interactivity.modes.push.particles_nb > 1) {\n                  pJS.fn.modes.pushParticles(pJS.interactivity.modes.push.particles_nb);\n                }\n              }\n              break;\n\n            case 'remove':\n              pJS.fn.modes.removeParticles(pJS.interactivity.modes.remove.particles_nb);\n              break;\n\n            case 'bubble':\n              pJS.tmp.bubble_clicking = true;\n              break;\n\n            case 'repulse':\n              pJS.tmp.repulse_clicking = true;\n              pJS.tmp.repulse_count = 0;\n              pJS.tmp.repulse_finish = false;\n              setTimeout(function () {\n                pJS.tmp.repulse_clicking = false;\n              }, pJS.interactivity.modes.repulse.duration * 1000);\n              break;\n\n          }\n        }\n      });\n    }\n  };\n\n  pJS.fn.vendors.densityAutoParticles = function () {\n\n    if (pJS.particles.number.density.enable) {\n\n      /* calc area */\n      var area = pJS.canvas.el.width * pJS.canvas.el.height / 1000;\n      if (pJS.tmp.retina) {\n        area = area / (pJS.canvas.pxratio * 2);\n      }\n\n      /* calc number of particles based on density area */\n      var nb_particles = area * pJS.particles.number.value / pJS.particles.number.density.value_area;\n\n      /* add or remove X particles */\n      var missing_particles = pJS.particles.array.length - nb_particles;\n      if (missing_particles < 0) pJS.fn.modes.pushParticles(Math.abs(missing_particles));else pJS.fn.modes.removeParticles(missing_particles);\n    }\n  };\n\n  pJS.fn.vendors.checkOverlap = function (p1, position) {\n    for (var i = 0; i < pJS.particles.array.length; i++) {\n      var p2 = pJS.particles.array[i];\n\n      var dx = p1.x - p2.x,\n          dy = p1.y - p2.y,\n          dist = Math.sqrt(dx * dx + dy * dy);\n\n      if (dist <= p1.radius + p2.radius) {\n        p1.x = position ? position.x : Math.random() * pJS.canvas.w;\n        p1.y = position ? position.y : Math.random() * pJS.canvas.h;\n        pJS.fn.vendors.checkOverlap(p1);\n      }\n    }\n  };\n\n  pJS.fn.vendors.createSvgImg = function (p) {\n\n    /* set color to svg element */\n    var svgXml = pJS.tmp.source_svg,\n        rgbHex = /#([0-9A-F]{3,6})/gi,\n        coloredSvgXml = svgXml.replace(rgbHex, function (m, r, g, b) {\n      if (p.color.rgb) {\n        var color_value = 'rgba(' + p.color.rgb.r + ',' + p.color.rgb.g + ',' + p.color.rgb.b + ',' + p.opacity + ')';\n      } else {\n        var color_value = 'hsla(' + p.color.hsl.h + ',' + p.color.hsl.s + '%,' + p.color.hsl.l + '%,' + p.opacity + ')';\n      }\n      return color_value;\n    });\n\n    /* prepare to create img with colored svg */\n    var svg = new Blob([coloredSvgXml], { type: 'image/svg+xml;charset=utf-8' }),\n        DOMURL = window.URL || window.webkitURL || window,\n        url = DOMURL.createObjectURL(svg);\n\n    /* create particle img obj */\n    var img = new Image();\n    img.addEventListener('load', function () {\n      p.img.obj = img;\n      p.img.loaded = true;\n      DOMURL.revokeObjectURL(url);\n      pJS.tmp.count_svg++;\n    });\n    img.src = url;\n  };\n\n  pJS.fn.vendors.destroypJS = function () {\n    cancelAnimationFrame(pJS.fn.drawAnimFrame);\n    canvas_el.remove();\n    pJSDom = null;\n  };\n\n  pJS.fn.vendors.drawShape = function (c, startX, startY, sideLength, sideCountNumerator, sideCountDenominator) {\n\n    // By Programming Thomas - https://programmingthomas.wordpress.com/2013/04/03/n-sided-shapes/\n    var sideCount = sideCountNumerator * sideCountDenominator;\n    var decimalSides = sideCountNumerator / sideCountDenominator;\n    var interiorAngleDegrees = 180 * (decimalSides - 2) / decimalSides;\n    var interiorAngle = Math.PI - Math.PI * interiorAngleDegrees / 180; // convert to radians\n    c.save();\n    c.beginPath();\n    c.translate(startX, startY);\n    c.moveTo(0, 0);\n    for (var i = 0; i < sideCount; i++) {\n      c.lineTo(sideLength, 0);\n      c.translate(sideLength, 0);\n      c.rotate(interiorAngle);\n    }\n    //c.stroke();\n    c.fill();\n    c.restore();\n  };\n\n  pJS.fn.vendors.exportImg = function () {\n    window.open(pJS.canvas.el.toDataURL('image/png'), '_blank');\n  };\n\n  pJS.fn.vendors.loadImg = function (type) {\n\n    pJS.tmp.img_error = undefined;\n\n    if (pJS.particles.shape.image.src != '') {\n\n      if (type == 'svg') {\n\n        var xhr = new XMLHttpRequest();\n        xhr.open('GET', pJS.particles.shape.image.src);\n        xhr.onreadystatechange = function (data) {\n          if (xhr.readyState == 4) {\n            if (xhr.status == 200) {\n              pJS.tmp.source_svg = data.currentTarget.response;\n              pJS.fn.vendors.checkBeforeDraw();\n            } else {\n              console.log('Error pJS - Image not found');\n              pJS.tmp.img_error = true;\n            }\n          }\n        };\n        xhr.send();\n      } else {\n\n        var img = new Image();\n        img.addEventListener('load', function () {\n          pJS.tmp.img_obj = img;\n          pJS.fn.vendors.checkBeforeDraw();\n        });\n        img.src = pJS.particles.shape.image.src;\n      }\n    } else {\n      console.log('Error pJS - No image.src');\n      pJS.tmp.img_error = true;\n    }\n  };\n\n  pJS.fn.vendors.draw = function () {\n\n    if (pJS.particles.shape.type == 'image') {\n\n      if (pJS.tmp.img_type == 'svg') {\n\n        if (pJS.tmp.count_svg >= pJS.particles.number.value) {\n          pJS.fn.particlesDraw();\n          if (!pJS.particles.move.enable) cancelRequestAnimFrame(pJS.fn.drawAnimFrame);else pJS.fn.drawAnimFrame = requestAnimFrame(pJS.fn.vendors.draw);\n        } else {\n          //console.log('still loading...');\n          if (!pJS.tmp.img_error) pJS.fn.drawAnimFrame = requestAnimFrame(pJS.fn.vendors.draw);\n        }\n      } else {\n\n        if (pJS.tmp.img_obj != undefined) {\n          pJS.fn.particlesDraw();\n          if (!pJS.particles.move.enable) cancelRequestAnimFrame(pJS.fn.drawAnimFrame);else pJS.fn.drawAnimFrame = requestAnimFrame(pJS.fn.vendors.draw);\n        } else {\n          if (!pJS.tmp.img_error) pJS.fn.drawAnimFrame = requestAnimFrame(pJS.fn.vendors.draw);\n        }\n      }\n    } else {\n      pJS.fn.particlesDraw();\n      if (!pJS.particles.move.enable) cancelRequestAnimFrame(pJS.fn.drawAnimFrame);else pJS.fn.drawAnimFrame = requestAnimFrame(pJS.fn.vendors.draw);\n    }\n  };\n\n  pJS.fn.vendors.checkBeforeDraw = function () {\n\n    // if shape is image\n    if (pJS.particles.shape.type == 'image') {\n\n      if (pJS.tmp.img_type == 'svg' && pJS.tmp.source_svg == undefined) {\n        pJS.tmp.checkAnimFrame = requestAnimFrame(check);\n      } else {\n        //console.log('images loaded! cancel check');\n        cancelRequestAnimFrame(pJS.tmp.checkAnimFrame);\n        if (!pJS.tmp.img_error) {\n          pJS.fn.vendors.init();\n          pJS.fn.vendors.draw();\n        }\n      }\n    } else {\n      pJS.fn.vendors.init();\n      pJS.fn.vendors.draw();\n    }\n  };\n\n  pJS.fn.vendors.init = function () {\n\n    /* init canvas + particles */\n    pJS.fn.retinaInit();\n    pJS.fn.canvasInit();\n    pJS.fn.canvasSize();\n    pJS.fn.canvasPaint();\n    pJS.fn.particlesCreate();\n    pJS.fn.vendors.densityAutoParticles();\n\n    /* particles.line_linked - convert hex colors to rgb */\n    pJS.particles.line_linked.color_rgb_line = hexToRgb(pJS.particles.line_linked.color);\n  };\n\n  pJS.fn.vendors.start = function () {\n\n    if (isInArray('image', pJS.particles.shape.type)) {\n      pJS.tmp.img_type = pJS.particles.shape.image.src.substr(pJS.particles.shape.image.src.length - 3);\n      pJS.fn.vendors.loadImg(pJS.tmp.img_type);\n    } else {\n      pJS.fn.vendors.checkBeforeDraw();\n    }\n  };\n\n  /* ---------- pJS - start ------------ */\n\n  pJS.fn.vendors.eventsListeners();\n\n  pJS.fn.vendors.start();\n};\n\n/* ---------- global functions - vendors ------------ */\nObject.deepExtend = function deepExtendFunction(destination, source) {\n  for (var property in source) {\n    if (source[property] && source[property].constructor && source[property].constructor === Object) {\n      destination[property] = destination[property] || {};\n      deepExtendFunction(destination[property], source[property]);\n    } else {\n      destination[property] = source[property];\n    }\n  }\n  return destination;\n};\n/*\nObject.deepExtend = function(destination, source) {\n  for (var property in source) {\n    if (source[property] && source[property].constructor &&\n     source[property].constructor === Object) {\n      destination[property] = destination[property] || {};\n      arguments.callee(destination[property], source[property]);\n    } else {\n      destination[property] = source[property];\n    }\n  }\n  return destination;\n};\n*/\nwindow.requestAnimFrame = function () {\n  return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\n    window.setTimeout(callback, 1000 / 60);\n  };\n}();\n\nwindow.cancelRequestAnimFrame = function () {\n  return window.cancelAnimationFrame || window.webkitCancelRequestAnimationFrame || window.mozCancelRequestAnimationFrame || window.oCancelRequestAnimationFrame || window.msCancelRequestAnimationFrame || clearTimeout;\n}();\n\nfunction hexToRgb(hex) {\n  // By Tim Down - http://stackoverflow.com/a/5624139/3493650\n  // Expand shorthand form (e.g. \"03F\") to full form (e.g. \"0033FF\")\n  var shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n  hex = hex.replace(shorthandRegex, function (m, r, g, b) {\n    return r + r + g + g + b + b;\n  });\n  var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  return result ? {\n    r: parseInt(result[1], 16),\n    g: parseInt(result[2], 16),\n    b: parseInt(result[3], 16)\n  } : null;\n};\n\nfunction clamp(number, min, max) {\n  return Math.min(Math.max(number, min), max);\n};\n\nfunction isInArray(value, array) {\n  return array.indexOf(value) > -1;\n}\n\n/* ---------- particles.js functions - start ------------ */\n\nwindow.pJSDom = [];\n\nwindow.particlesJS = function (tag_id, params) {\n\n  //console.log(params);\n\n  /* no string id? so it's object params, and set the id with default id */\n  if (typeof tag_id != 'string') {\n    params = tag_id;\n    tag_id = 'particles-js';\n  }\n\n  /* no id? set the id to default id */\n  if (!tag_id) {\n    tag_id = 'particles-js';\n  }\n\n  /* pJS elements */\n  var pJS_tag = document.getElementById(tag_id),\n      pJS_canvas_class = 'particles-js-canvas-el',\n      exist_canvas = pJS_tag.getElementsByClassName(pJS_canvas_class);\n\n  /* remove canvas if exists into the pJS target tag */\n  if (exist_canvas.length) {\n    while (exist_canvas.length > 0) {\n      pJS_tag.removeChild(exist_canvas[0]);\n    }\n  }\n\n  /* create canvas element */\n  var canvas_el = document.createElement('canvas');\n  canvas_el.className = pJS_canvas_class;\n\n  /* set size canvas */\n  canvas_el.style.width = \"100%\";\n  canvas_el.style.height = \"100%\";\n\n  /* append canvas */\n  var canvas = document.getElementById(tag_id).appendChild(canvas_el);\n\n  /* launch particle.js */\n  if (canvas != null) {\n    pJSDom.push(new pJS(tag_id, params));\n  }\n};\n\nwindow.particlesJS.load = function (tag_id, path_config_json, callback) {\n\n  /* load json config */\n  var xhr = new XMLHttpRequest();\n  xhr.open('GET', path_config_json);\n  xhr.onreadystatechange = function (data) {\n    if (xhr.readyState == 4) {\n      if (xhr.status == 200) {\n        var params = JSON.parse(data.currentTarget.response);\n        window.particlesJS(tag_id, params);\n        if (callback) callback();\n      } else {\n        console.log('Error pJS - XMLHttpRequest status: ' + xhr.status);\n        console.log('Error pJS - File config not found');\n      }\n    }\n  };\n  xhr.send();\n};\n\n/***/ })\n\n},[12]);"]}